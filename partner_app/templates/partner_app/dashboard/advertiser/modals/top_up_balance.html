<dialog id="topup_modal" class="modal backdrop-blur-sm overflow-hidden">
    <div class="modal-box bg-gradient-to-br from-base-100 to-base-200">
        <form method="dialog">
            <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>
        </form>

        <h3 class="font-bold text-xl mb-6">
            Пополнение баланса
        </h3>

        <form id="top_up_balance" method="POST">
            {% csrf_token %}
            <div class="space-y-4">

                <!-- Поле суммы -->
                <div class="form-control">
                    <label class="label">
                        <span class="label-text">Сумма к пополнения</span>
                    </label>
                    <div class="relative">
                        <input id="amount" name="amount" type="number" placeholder="{{ min_payout }}" min="{{ min_payout }}"
                            step="0.01" class="input input-bordered w-full pl-6 text-lg" required min="0.01" />
                        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-lg text-gray-500">₽</span>
                    </div>
                </div>

                <!-- Выбор способа оплаты -->
                <div class="form-control">
                    <label class="label" for="transaction_payout_method">
                        <span class="label-text">Способ выплаты</span>
                    </label>
                    <div class="relative">
                        <select id="transaction_payout_method" name="transaction_payout_method" class="select select-bordered w-full"
                            required>
                            <option value="" disabled selected>Выберите способ</option>
                            <option value="bank_transfer">Оплата счёта</option>
                            <!-- <option value="card">Банковская карта</option>
                            <option value="e_wallet">Электронный кошелёк</option>
                            <option value="sbp">Система быстрых платежей (СБП)</option> -->
                        </select>
                    </div>
                </div>

                <div class="text-sm text-base-content/60 space-y-1">
                    <p><i class="fas fa-clock mr-1"></i> Время обработки: 1-3 рабочих дня</p>
                    <p>Комиссия: {{ fee_percent }}%</p>
                    <p>Мин. сумма пополнения: {{ min_payout }}₽</p>
                </div>

                <!-- Кнопка оплаты -->
                <button class="btn btn-primary btn-block mt-3">
                    <i class="fa-solid fa-credit-card"></i>
                    Перейти к оплате
                </button>

                <div class="text-center text-sm opacity-70 mt-4">
                    Нажимая кнопку, вы соглашаетесь с <a href="#" class="link link-primary">условиями сервиса</a>
                </div>
            </div>
        </form>
    </div>

    <!-- Затемнение фона -->
    <form method="dialog" class="modal-backdrop">
        <button>close</button>
    </form>
</dialog>