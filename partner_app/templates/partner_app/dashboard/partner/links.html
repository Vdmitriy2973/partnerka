{% load static %}

<div id="links" class="page-section px-4 sm:px-0">
    <div class="mb-8">
        <h1 class="text-2xl sm:text-3xl font-bold text-base-content mb-2">Партнерские ссылки</h1>
        <p class="text-sm sm:text-base text-base-content/60">Управляйте своими партнерскими ссылками и отслеживайте
            их эффективность</p>
    </div>

    <!-- Карточки статистики - теперь в 2 колонки на мобильных -->
    <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8">
        <div class="card bg-base-100 shadow-sm sm:shadow-lg">
            <div class="card-body p-3 sm:p-4 text-center">
                <i class="fas fa-link text-xl sm:text-3xl text-primary mb-1 sm:mb-2"></i>
                <div class="text-lg sm:text-2xl font-bold">12</div>
                <p class="text-xs sm:text-sm text-base-content/60">Активных ссылок</p>
            </div>
        </div>
        <div class="card bg-base-100 shadow-sm sm:shadow-lg">
            <div class="card-body p-3 sm:p-4 text-center">
                <i class="fas fa-mouse-pointer text-xl sm:text-3xl text-info mb-1 sm:mb-2"></i>
                <div class="text-lg sm:text-2xl font-bold">2,847</div>
                <p class="text-xs sm:text-sm text-base-content/60">Всего кликов</p>
            </div>
        </div>
        <div class="card bg-base-100 shadow-sm sm:shadow-lg">
            <div class="card-body p-3 sm:p-4 text-center">
                <i class="fas fa-chart-line text-xl sm:text-3xl text-success mb-1 sm:mb-2"></i>
                <div class="text-lg sm:text-2xl font-bold">8.4%</div>
                <p class="text-xs sm:text-sm text-base-content/60">Средняя конверсия</p>
            </div>
        </div>
        <div class="card bg-base-100 shadow-sm sm:shadow-lg">
            <div class="card-body p-3 sm:p-4 text-center">
                <i class="fas fa-fire text-xl sm:text-3xl text-warning mb-1 sm:mb-2"></i>
                <div class="text-lg sm:text-2xl font-bold truncate">promo-2024</div>
                <p class="text-xs sm:text-sm text-base-content/60">Лучшая ссылка</p>
            </div>
        </div>
    </div>

    <!-- Таблица с адаптивным поведением -->
    <div class="card bg-base-100 shadow-sm sm:shadow-lg">
        <div class="card-body p-3 sm:p-6">
            <div
                class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-3 sm:gap-4">
                <h2 class="card-title text-lg sm:text-xl">
                    <i class="fas fa-list text-primary mr-2"></i>
                    Все ссылки
                </h2>
                <div class="flex gap-2">
                    <button class="btn btn-sm sm:btn-md btn-outline">
                        <i class="fas fa-download mr-1 sm:mr-2"></i>
                        <span class="hidden sm:inline">Экспорт</span>
                    </button>
                </div>
            </div>

            <div class="overflow-visible">
                <table class="table table-zebra">
                    <thead>
                        <tr class="hidden sm:table-row">
                            <th>Ссылка</th>
                            <th>Статус</th>
                            <th>Клики</th>
                            <th>Продажи</th>
                            <th>Конверсия</th>
                            <th>Доход</th>
                            <th>Создана</th>
                            <th>Действия</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Для мобильных - карточки, для десктопа - таблица -->
                        <tr class="sm:table-row block sm:table-row mb-4 sm:mb-0">
                            <td class="block sm:table-cell p-0 sm:p-3">
                                <div class="flex flex-col p-3 sm:p-0">
                                    <div class="font-bold">test social-media</div>
                                    <div class="text-sm opacity-50">Для социальных сетей</div>
                                    <div class="text-xs text-primary break-all">partner.site.com/social-media</div>
                                    <div class="flex sm:hidden justify-between mt-2">
                                        <div>
                                            <span class="badge badge-success mr-2">Активна</span>
                                            <span>Клики: 892</span>
                                        </div>
                                        <div class="text-success font-bold">₽12,670</div>
                                    </div>
                                </div>
                            </td>
                            <td class="hidden sm:table-cell"><span class="badge badge-success">Активна</span></td>
                            <td class="hidden sm:table-cell">892</td>
                            <td class="hidden sm:table-cell">61</td>
                            <td class="hidden sm:table-cell"><span class="badge badge-warning">6.8%</span></td>
                            <td class="hidden sm:table-cell font-bold text-success">₽12,670</td>
                            <td class="hidden sm:table-cell">22.01.2024</td>
                            <td class="block sm:table-cell p-0 sm:p-3">
                                <div class="flex justify-end sm:justify-center p-3 sm:p-0">
                                    <div class="dropdown dropdown-end">
                                        <div tabindex="0" role="button" class="btn btn-ghost btn-sm">
                                            <i class="fas fa-ellipsis-v"></i>
                                        </div>
                                        <ul tabindex="0"
                                            class="dropdown-content z-[9999] menu p-2 shadow bg-base-100 rounded-box w-52">
                                            <li><a><i class="fas fa-copy mr-2"></i>Копировать</a></li>
                                            <li><a><i class="fas fa-chart-bar mr-2"></i>Статистика</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>