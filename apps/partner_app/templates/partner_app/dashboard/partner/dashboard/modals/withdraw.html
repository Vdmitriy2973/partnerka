{% load static %}
<!-- Withdraw Modal -->
<dialog id="withdrawModal" class="modal">
  <form id="withdraw_money_partner" method="POST" class="modal-box space-y-4">
    {% csrf_token %}
    <h3 class="font-bold text-lg mb-4">Запросить выплату</h3>

    <div class="bg-blue-500 p-4 rounded-2xl flex items-center gap-2 text-white">
      <i class="fas fa-info-circle"></i>
      <span>Доступно к выводу: ₽<span id="partner-withdraw-balance">{{ user.partner_profile.balance }}</span></span>
    </div>

    <div class="form-control">
      <label class="label" for="amount">
        <span class="label-text">Сумма к выводу</span>
      </label>
      <input id="amount" name="amount" type="number" placeholder="0" min="{{ min_payout }}" max="{{ int_balance }}"
        step="0.01" class="input input-bordered" required min="0.01" />
    </div>
      <input name="referrer" class="hidden" value="quick_withdraw"/>
    <div class="form-control">
      <label class="label" for="transaction_payout_method">
        <span class="label-text">Способ выплаты</span>
      </label>
      <select id="transaction_payout_method" name="transaction_payout_method" class="select select-bordered" required>
        <option value="" disabled selected>Выберите способ</option>
        <option value="bank_transfer">Банковский перевод</option>
      </select>
    </div>

    <div class="text-sm text-base-content/60 space-y-1">
      <p><i class="fas fa-clock mr-1"></i> Время обработки: 1-3 рабочих дня</p>
      <p><i class="fas fa-percentage mr-1"></i> Комиссия: {{ fee_percent }}%</p>
    </div>

    <div class="modal-action flex justify-end gap-2 mt-6">
      <button type="submit" data-balance="{{ user.partner_profile.balance }}" class="btn btn-primary">Запросить выплату</button>
      <button type="button" class="btn" onclick="document.getElementById('withdrawModal').close()">Отмена</button>
    </div>
  </form>

  <!-- Фон модального окна -->
  <form method="dialog" class="modal-backdrop backdrop-blur-sm">
    <button>close</button>
  </form>
</dialog>